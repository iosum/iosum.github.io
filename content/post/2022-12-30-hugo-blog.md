---
layout: post
title: Hugo å®‰è£åœ¨ Github pagesï¼Œä¸¦ä½¿ç”¨å®¢è£½åŒ– Domain
author: Casey
date: 2022-12-30
categories: tutorials
tags: hugo
draft: true
---

## æœ¬ç¯‡è¨è«–é‡é»

> å‰ç½®ä½œæ¥­: éœ€å…ˆå®‰è£ Git/Go (hugo å®˜æ–¹æ¨è–¦)ï¼Œå› ç‚º2å€‹çš„å®‰è£æ­¥é©Ÿéƒ½æ˜¯ä¸€ç›´æŒ‰ä¸‹ä¸€æ­¥ï¼Œé€™é‚Šå°±ä¸å ç¯‡å¹…äº†ï¼Œå¦‚éœ€è¦å¯ä»¥åƒè€ƒ Git å®‰è£å’Œ Go å®‰è£ã€‚

1. å®‰è£ Hugo/Git
2. æ–°å¢ä¸€å€‹å¥—ç”¨ Hugo ä¸»é¡Œçš„ blog
3. ä¸Šå‚³åˆ°è‡ªå·±çš„ Github repository
4. ä½¿ç”¨ Github Actionsï¼Œè‡ªå‹•éƒ¨å±¬åˆ° Github pages
5. ä½¿ç”¨ Custom Domain  (é€™éœ€è¦ä»˜è²»è²· Domainï¼Œå…è²»ä»”å¯ä»¥ä¸ç”¨çœ‹)


### å®‰è£ Hugo/Git

1. [ä¸‹è¼‰ Hugo](https://github.com/gohugoio/hugo)

é» Releses
![Imgur](https://i.imgur.com/S68BaMh.png)

å› ç‚ºæˆ‘ä½¿ç”¨çš„OSæ˜¯ Windowsï¼Œæ‰€ä»¥ä¸‹è¼‰ Windows extended ç‰ˆæœ¬ã€‚
å»ºè­°è¦ä¸‹è¼‰æœ‰ extended çµå°¾çš„ folderï¼Œå› ç‚ºå¦‚æœä¸»é¡Œæ˜¯ç”¨ scss å¯«çš„ï¼Œå¿…é ˆè¦ä½¿ç”¨ extended ç‰ˆæœ¬æ‰èƒ½ compile æˆåŠŸã€‚
![Imgur](https://i.imgur.com/HEuPVy4.png)

è§£å£“ç¸®æ‰“é–‹å¾Œå¯ä»¥çœ‹åˆ°æœ‰æœ€é‡è¦çš„ `hugo.exe`
![Imgur](https://i.imgur.com/EQUvNlR.png)

å°‡ `hugo.exe` åŠ åˆ°ç’°å¢ƒè®Šæ•¸ (æ§åˆ¶å°->ç³»çµ±->é€²éšç³»çµ±è¨­å®š->ç’°å¢ƒè®Šæ•¸)

![Imgur](https://i.imgur.com/lItlMDV.png)

![Imgur](https://i.imgur.com/Hx1LuqB.png)

![Imgur](https://i.imgur.com/knIPEB4.png)

![Imgur](https://i.imgur.com/v4MKPdD.png)

å°‡å‰›å‰›è§£å£“ç¸®çš„è·¯å¾‘è¤‡è£½èµ·ä¾†ï¼ŒæŒ‰ä¸‹æ–°å¢ï¼Œè²¼ä¸Šè·¯å¾‘ä¸¦æŒ‰ä¸‹ç¢ºå®š
![Imgur](https://i.imgur.com/xU4qdaW.png)


å¯ä»¥ç”¨ `hugo version` ä¾†çœ‹æ˜¯å¦å®‰è£æˆåŠŸ

åœ¨æœå°‹çš„åœ°æ–¹è¼¸å…¥ cmd

![Imgur](https://i.imgur.com/gLW2rH2.png)

è¼¸å…¥ `hugo version`ï¼ŒæˆåŠŸçš„è©±æœƒé¡¯ç¤ºå‰›å‰›è£çš„ç‰ˆæœ¬

![Imgur](https://i.imgur.com/q5OF94N.png)


### æ–°å¢ä¸€å€‹å¥—ç”¨ Hugo ä¸»é¡Œçš„ blog

å¯ä»¥å…ˆå»çœ‹çœ‹æƒ³è¦å“ªä¸€å€‹ä¸»é¡Œï¼Œ[ç¶²å€åœ¨é€™](https://themes.gohugo.io/)
æˆ‘çš„ blog ä½¿ç”¨çš„æ˜¯ `tania` [é€™ä¸€å€‹ä¸»é¡Œ](https://themes.gohugo.io/themes/hugo-tania/)

```
--æ–°å¢ä¸€å€‹ hugo siteï¼Œfolderçš„åç¨±å«åšblog
hugo new site blog 
```

![Imgur](https://i.imgur.com/VMSAKFa.png)

```
--é€²å…¥ blog folder
cd blog 
```

![Imgur](https://i.imgur.com/5guBlik.png)

```
--åˆå§‹åŒ– git
git init 
```

![Imgur](https://i.imgur.com/gRgl3za.png)

```
-- åŠ å…¥ä¸»é¡Œ
git submodule add https://github.com/WingLim/hugo-tania themes/hugo-tania 
```

![Imgur](https://i.imgur.com/rGsgQI1.png)

```
-- å•Ÿå‹•æœ¬æ©Ÿä¼ºæœå™¨
hugo server 
```

![Imgur](https://i.imgur.com/1z5jYRS.png)

åœ¨ç€è¦½å™¨ä¸Šæ‰“ä¸Š `localhost:1313` å¯ä»¥çœ‹åˆ°æ˜¯ Page Not Found

å› ç‚ºè³‡æ–™å¤¾æ²’æœ‰ä»»ä½•æ±è¥¿ï¼Œæˆ‘å€‘å‰›å‰›éƒ½åªæ˜¯åŠ ä¸»é¡Œè€Œå·²

ç‚ºäº†åŠ é€Ÿçœ‹åˆ°æ±è¥¿ï¼Œæˆ‘å€‘å…ˆç”¨ example page è©¦è©¦

é€²åˆ° themes -> hugo-tania -> exampleSite

å°‡content å’Œ static è¤‡è£½åˆ° blog è³‡æ–™å¤¾

é€²åˆ° themes -> hugo-tania 

å°‡ assets å’Œ layouts è¤‡è£½åˆ° blog è³‡æ–™å¤¾

æœ€å¾Œ blog è³‡æ–™å¤¾æœƒå¤šå‡ºå‰›å‰›åŠ çš„é‚£ 4 å€‹

![Imgur](https://i.imgur.com/nJJpdb4.png)

ä¹‹å¾Œå†å›åˆ°ç€è¦½å™¨ï¼Œè¼¸å…¥ `localhost:1313`ï¼Œå¯ä»¥çœ‹åˆ°æœ‰æ±è¥¿äº†ğŸŒ¸ğŸŒ¸ğŸŒ¸

![Imgur](https://i.imgur.com/f3AE8Q1.png)

å¯ä»¥æŒ‰ `ctrl+C` é€€å‡º Server

### ä¸Šå‚³åˆ°è‡ªå·±çš„ Github repository

1. å…ˆ Create ä¸€å€‹ repository å«åš `{username}.github.io`ï¼Œä¸€å®šè¦æ˜¯é€™ä¸€å€‹æ ¼å¼

![Imgur](https://i.imgur.com/qu4SCBn.png)

2. å°‡ code push åˆ°é€™ä¸€å€‹ repository ä¸Šé¢

è¤‡è£½ä»¥ä¸‹çš„ commandï¼Œè²¼åˆ° bash ä¸Šé¢ï¼Œæ‡‰è©²å°±æœƒ push ä¸Šå»äº†

![Imgur](https://i.imgur.com/EcOQyTh.png)




### ä½¿ç”¨ Github Actionsï¼Œè‡ªå‹•éƒ¨å±¬åˆ° Github pages

æœ‰ 2 ç¨®æ–¹æ³•

1. ç›´æ¥åœ¨å°ˆæ¡ˆæ–°å¢ `.github\workflows\main.yml`ï¼Œä¸¦å°‡ä»¥ä¸‹çš„ code è²¼ä¸Š

```yml
name: github pages

on:
  push:
    branches:
      - main  # å¦‚æœæœ‰æ±è¥¿pushåˆ°é€™éš»branchæ™‚æœƒè§¸ç™¼github actionï¼Œå¦‚æœä½ çš„ä¸»branchæ˜¯masteræˆ–æ˜¯å…¶ä»–åç¨±ï¼Œå°±è‡ªå·±æ›éå»
  pull_request: # å†æäº¤PRæ™‚æœƒè§¸ç™¼github action(ä½†åªæœƒç”¨ä¾†æ¸¬è©¦ç·¨è­¯æœ‰æ²’æœ‰éï¼Œä¸æœƒæ­£å¼éƒ¨å±¬)

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
        with:
          submodules: true  # Fetch Hugo themes (true OR recursive)
          fetch-depth: 0    # Fetch all history for .GitInfo and .Lastmod

      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v2
        with:
          hugo-version: latest
          extended: true # å»ºè­°åŠ ä¸Šå»ï¼Œä¸ç„¶æœ‰å¯èƒ½æœƒæ”¶åˆ°scssç·¨è­¯éŒ¯èª¤

      - name: Build
        run: hugo --minify # ç·¨è­¯

      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        if: github.ref == 'refs/heads/main' #å¦‚æœæœ‰æ–°çš„commitåˆä½µæˆ–æ˜¯æ¨é€åˆ°main branchä¸Šï¼Œå°±åŸ·è¡Œdeploy(å¦‚æœä½ çš„ä¸»branchæ˜¯masteræˆ–æ˜¯å…¶ä»–åç¨±ï¼Œå°±è‡ªå·±æ›éå»)
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./public
```

2. åœ¨ Github ä¸Šä½¿ç”¨ UI æ–¹å¼è¨­å®š


### ä½¿ç”¨ Custom Domain

æˆ‘ä½¿ç”¨çš„æ˜¯ Google Domainsï¼Œä¸€å¹´$350å°å¹£ï¼Œæ»¿ä¾¿å®œçš„ã€‚

